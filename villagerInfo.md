# Class vs Struct
### Intro
class와 struct에 대해 배우기 시작했다. 
enum과 tuple로 얼기설기 구현했던 동물주민들의 프로필을 class와 struct 중 뭘로 구현하는 게 좋을지 고민이다.
> - 동물주민이 나타나는 환경은 다음과 같다: 인게임에 기본값으로 구축된 주민 프로필, 마일섬 또는 캠핑장에서 만나는 주민, 내 섬에 데려온 주민, 통신 시 만나는 다른 섬의 주민, 해피홈 파라다이스에서 만나는 주민, 꿈번지에서 만나는 주민
> - 편의상 가장 기본이 되는 주민정보를 '아미보'라 지칭한다. (이걸 실물굿즈로 출시한 별도의 개념이 '아미보'지만, 캠핑장 케이스에서만 잠시 언급할 테고 엄밀히 인게임 요소는 아니기 때문에 용어 빌림. 임시로 지칭할 일이 있을땐 '아미보카드'라고 칭할 예정.)
> - 원활한 추측을 위해 꿈번지의 경우는 논외, 해피홈의 경우는 '내 섬과 겹치는 주민'에 한하여 고려한다.
> - 위에서 언급한 환경의 주민을 순서대로 '아미보', '주민후보', '내섬주민', '타섬주민', '해피홈주민'이라고 칭한다.

### 기존생각: class
아미보 외 3가지는 모두 생성되는 순간에 아미보 정보를 복사하여 가져온다. 
한 번 생성된 프로필을 매 순간 불러와 활용하며, 그 중에서도 특히 하위 프로퍼티(변수)를 종종 변경 및 저장하여 인게임에 반영한다는 점을 고려하면 class가 적절하다고 생각했다. 
하지만 주민후보/타섬주민/해피홈주민이 내섬주민과의 일치 여부를 판단한다는 점이 애매했다. 
> - 내섬주민인 동물을 주민후보(마일섬/캠핑장)로 만날 수 없고, 
> 아미보카드(캠핑장)로도 '내 섬에 살고 있는 그 주민'으로 인식되기에 같은 이름의 새 주민을 불러오지는 못한다. 
> - 내 섬에 있는 동물을 타 섬에서 만났을 때 말을 걸면 일면식도 없는 관계로 묘사된다. 
> - 해피홈주민의 경우 별장을 원하는 손님, 내가 초대한 내섬주민 2가지로 나눌 수 있는데, 
> 전자에 대해서는 주민후보의 경우처럼 내섬주민과 같은 동물이 나오지 않으며 
> 후자에 대해서는 내섬주민일 동안은 아는 사이지만, 섬을 떠난 후에는 모르는 사이로 변한다.

위 점들을 고려하면, **'같은 동물'임을 판별하는 기준**이 무엇일지 궁금해진다.
> 1. 이름이 같을 경우    → ❎(위 예시들을 고려할 때 당연히 x)
> 2. 이름 및 하위 속성들까지 모두 같을 경우   → ❎(서로 다른 섬의 이사 직후 순정 상태인 주민 둘에 대하여도 별개의 동물로 취급)

두 가지가 모두 아니라면, 다른 두 가지 가설을 생각할 수 있다. 
> 1. 각 주민(인스턴스)들의 변수명은 타입명(동물이름)이 아닌 형태로 생성된다.
> 2. 각 주민(인스턴스)들 내부에 주민의 변별을 위한 별도의 속성(변수)이 정의된다.
ㄴ 위 가설1,2 모두 고유성이 있는 데이터가 붙은 형태를 말하는 것이지만, 단순히 주민대표의 이름이나 섬 이름이면 안 된다. 예전에 살다가 떠난 주민을 다시 내섬주민으로 들여올 때에도 '별도의 새로운 주민'으로 취급되기 때문에, 예컨대 이사 시점 등의 정보도 함께 들어가야 한다. (그렇다고 이사하는 순간 인스턴스를 삭제한다는 건 말이 안 된다. 아미보로 카페에 부르면 아는 사이로 묘사되기 때문에, 데이터 자체는 남아 있어야 한다.)


### 고민사항: struct
인스턴스가 사용되는 동안 = 주민이 '내섬주민'인 동안 = '주민후보'가 있는 마일섬을 떠나기 전까지 = ... 로 간주하면 
같은 이름의 동물이라도 다른 데이터로 여겨지는 이유를 이해할 수 있다. 
'동시에 존재하는 경우' 같은 데이터값이 복사되어 존재하는 거니 이상하다는 건 설명 가능하다. '내섬주민'과 같은 '타섬주민'이 존재할 수 있지만, 어쨌건 잘 생각해보면 마찬가지로 존재한다 뿐이지 실제로 한날한시에 같이 있지는 않는다. 
다시 말해 '같은 주민이라도 **서로 다른 주민이야**'라는 결론 아래에는 '**같은 주민값이라** 공존할 수 없어'라는 진단이 우선된다. 
'인스턴스가 사용되는 동안'이라는 전제의 범위가 관건이다. 
내 섬 로딩이 곧 저장된 인스턴스를 깨우는 과정이라면, 통신 시 다른 섬에 갔을 때에는 기존의 (내섬주민인)인스턴스가 사용중이 아니기 때문에 타섬에 사는 그 동명의 주민의 값이 그 주민이 되는 것(나중에 말 정리 요망...)이다.



### 임시결론: class
문자열이 아닌 타입의 변수명 자체를 문자열로 불러와 사용할 수 있느냐로 고민한 적이 꽤 많았다. 
언젠가 알 수 있을지 모르겠지만, 일단은 내부에 변수명 자체를 문자열로 담는 변수를 선언하자는 정도로 마무리.
class타입의 타입명을 주민의 이름이 아니라 일종의 일련번호/코드로 혹은 둘을 결합한 형태로 선언하되 주민의 이름은 프로퍼티로 접근토록 하는 게 나을 듯하다.
대부분의 인게임 상황에서 class타입이 적절하기 때문에, 위와 같은 수고를 하나 더하게 되더라도 class로 쓰는 편이 맞는 것 같다. 
